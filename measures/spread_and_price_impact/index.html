<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex/" /><link rel="search" title="Search" href="../../search/" /><link rel="next" title="SRISK" href="../srisk/" /><link rel="prev" title="Probability of Informed Trading (PIN)" href="../probability_of_informed_trading/" />
        <link rel="canonical" href="https://frds.iomeasures/spread_and_price_impact/" />

    <link rel="shortcut icon" href="../../_static/frds.png"/><!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>Spread and Price Impact - frds</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=415d3439" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../"><div class="brand">frds</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/frds_icon.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">frds</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../">Supported Measures</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Supported Measures</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../absorption_ratio/">Absorption Ratio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contingent_claim_analysis/">Contingent Claim Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distress_insurance_premium/">Distress Insurance Premium</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kyle_lambda/">Kyleâ€™s Lambda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lerner_index/">Lerner Index (Banks)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../limit_order_book_slope/">Limit Order Book Slope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../long_run_mes/">Long-Run Marginal Expected Shortfall (LRMES)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../marginal_expected_shortfall/">Marginal Expected Shortfall</a></li>
<li class="toctree-l2"><a class="reference internal" href="../option_prices/">Option Prices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../probability_of_informed_trading/">Probability of Informed Trading (PIN)</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Spread and Price Impact</a></li>
<li class="toctree-l2"><a class="reference internal" href="../srisk/">SRISK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../systemic_expected_shortfall/">Systemic Expected Shortfall</a></li>
<li class="toctree-l2"><a class="reference internal" href="../z_score/">Z-score</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../algorithms/">Algorithms</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Algorithms</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../algorithms/garch/">GARCH(1,1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../algorithms/garch-ccc/">GARCH(1,1) - CCC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../algorithms/garch-dcc/">GARCH(1,1) - DCC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../algorithms/gjr-garch/">GJR-GARCH(1,1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../algorithms/gjr-garch-dcc/">GJR-GARCH(1,1) - DCC</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../datasets/">Datasets</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Datasets</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../datasets/stock-returns/">Stock Returns</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/mgao6767/frds/">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://mingze-gao.com">Mingze Gao</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="spread-and-price-impact">
<h1>Spread and Price Impact<a class="headerlink" href="#spread-and-price-impact" title="Link to this heading">#</a></h1>
<section id="quoted-spread">
<h2>Quoted Spread<a class="headerlink" href="#quoted-spread" title="Link to this heading">#</a></h2>
<p>The percentage quoted spread is</p>
<div class="math-wrapper docutils container" id="equation-quoted-spread">
<div class="math notranslate nohighlight" id="equation-quoted-spread">
<span class="eqno">(1)<a class="headerlink" href="#equation-quoted-spread" title="Link to this equation">#</a></span>\[\text{Q-spread}=\frac{Ask_{it}-Bid_{it}}{m_{it}} \times 100\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(m_{it}=(Ask_{it}+Bid_{it})/2\)</span> is the bid-ask midpoint at
time <span class="math notranslate nohighlight">\(t\)</span>.</p>
<p>Alternatively, the log spread is</p>
<div class="math-wrapper docutils container" id="equation-quoted-spread-logj">
<div class="math notranslate nohighlight" id="equation-quoted-spread-logj">
<span class="eqno">(2)<a class="headerlink" href="#equation-quoted-spread-logj" title="Link to this equation">#</a></span>\[\text{Q-spread}=\ln Ask_{it}- \ln Bid_{it}\]</div>
</div>
</section>
<section id="effective-spread">
<h2>Effective Spread<a class="headerlink" href="#effective-spread" title="Link to this heading">#</a></h2>
<p>The effective spread measures a round trip cost for liquidity trader
selling the stock immediately after the purchase, so it is defined as
two times the absolute difference between the natural logarithms of the
transaction price and the quoted midpoint at the trading time.</p>
<p>The percentage effective spread is</p>
<div class="math-wrapper docutils container" id="equation-effective-spread">
<div class="math notranslate nohighlight" id="equation-effective-spread">
<span class="eqno">(3)<a class="headerlink" href="#equation-effective-spread" title="Link to this equation">#</a></span>\[\text{E-spread}=\frac{2\times|P_{it}-m_{it}|}{m_{it}} \times 100\]</div>
</div>
<p>Alternatively, the log spread is</p>
<div class="math-wrapper docutils container" id="equation-effective-spread-log">
<div class="math notranslate nohighlight" id="equation-effective-spread-log">
<span class="eqno">(4)<a class="headerlink" href="#equation-effective-spread-log" title="Link to this equation">#</a></span>\[\text{E-spread (log)}=2\times|\ln P_{it}-\ln m_{it}|\]</div>
</div>
<p>Trade directions can be included into the calculation of effective
spread. Specifically, if <span class="math notranslate nohighlight">\(q_{it}=1\)</span> means a buy and
<span class="math notranslate nohighlight">\(q_{it}=-1\)</span> means a sell, then we have</p>
<div class="math-wrapper docutils container" id="equation-effective-spread-with-direction">
<div class="math notranslate nohighlight" id="equation-effective-spread-with-direction">
<span class="eqno">(5)<a class="headerlink" href="#equation-effective-spread-with-direction" title="Link to this equation">#</a></span>\[\text{E-spread}=\frac{2 q_{it} (P_{it}-m_{it})}{m_{it}} \times 100\]</div>
</div>
<div class="math-wrapper docutils container" id="equation-effective-spread-log-with-direction">
<div class="math notranslate nohighlight" id="equation-effective-spread-log-with-direction">
<span class="eqno">(6)<a class="headerlink" href="#equation-effective-spread-log-with-direction" title="Link to this equation">#</a></span>\[\text{E-spread (log)}=2 q_{it} (\ln P_{it}-\ln m_{it})\]</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>JFE 2021: Bias in the effective bid-ask spread
<a class="reference external" href="https://doi.org/10.1016/j.jfineco.2021.04.018">https://doi.org/10.1016/j.jfineco.2021.04.018</a></p>
</div>
</section>
<section id="realized-spread">
<h2>Realized Spread<a class="headerlink" href="#realized-spread" title="Link to this heading">#</a></h2>
<p>Realized spread is the temporary component of the effective spread. The
realized spread measures the profit or loss to a liquidity provider
assuming the she can close her position at the quoted bid-ask midpoint
sometime after the trade. Typically, this time difference between
opening and closing the position is set to five minutes
(<span class="math notranslate nohighlight">\(\tau=5\text{min}\)</span>).</p>
<p>The percentage realized spread is</p>
<div class="math-wrapper docutils container" id="equation-realized-spread">
<div class="math notranslate nohighlight" id="equation-realized-spread">
<span class="eqno">(7)<a class="headerlink" href="#equation-realized-spread" title="Link to this equation">#</a></span>\[\text{R-spread}=\frac{2\times|P_{it}-m_{it+\tau}|}{m_{it}} \times 100\]</div>
</div>
<p>Alternatively, the log spread is</p>
<div class="math-wrapper docutils container" id="equation-realized-spread-log">
<div class="math notranslate nohighlight" id="equation-realized-spread-log">
<span class="eqno">(8)<a class="headerlink" href="#equation-realized-spread-log" title="Link to this equation">#</a></span>\[\text{R-spread (log)}=2\times|\ln P_{it}-\ln m_{it+\tau}|\]</div>
</div>
<p>It is also common to include trade direction into the calculation of
realized spread. Specifically, if <span class="math notranslate nohighlight">\(q_{it}=1\)</span> means a buy and
<span class="math notranslate nohighlight">\(q_{it}=-1\)</span> means a sell, then we have</p>
<div class="math-wrapper docutils container" id="equation-realized-spread-with-direction">
<div class="math notranslate nohighlight" id="equation-realized-spread-with-direction">
<span class="eqno">(9)<a class="headerlink" href="#equation-realized-spread-with-direction" title="Link to this equation">#</a></span>\[\text{R-spread}=\frac{2 q_{it} (P_{it}-m_{it+\tau})}{m_{it}} \times 100\]</div>
</div>
<div class="math-wrapper docutils container" id="equation-realized-spread-log-with-direction">
<div class="math notranslate nohighlight" id="equation-realized-spread-log-with-direction">
<span class="eqno">(10)<a class="headerlink" href="#equation-realized-spread-log-with-direction" title="Link to this equation">#</a></span>\[\text{R-spread (log)}=2 q_{it} (\ln P_{it}-\ln m_{it+\tau})\]</div>
</div>
</section>
<section id="simple-price-impact">
<h2>Simple Price Impact<a class="headerlink" href="#simple-price-impact" title="Link to this heading">#</a></h2>
<p>(Simple) Price impact is the permanent component of the effective
spread.</p>
<p>The percentage price impact is</p>
<div class="math-wrapper docutils container" id="equation-simple-price-impact">
<div class="math notranslate nohighlight" id="equation-simple-price-impact">
<span class="eqno">(11)<a class="headerlink" href="#equation-simple-price-impact" title="Link to this equation">#</a></span>\[\text{Simple Price Impact}=\frac{2\times|m_{it+\tau}-m_{it}|}{m_{it}} \times 100\]</div>
</div>
<p>Alternatively, the log version is</p>
<div class="math-wrapper docutils container" id="equation-simple-price-impact-log">
<div class="math notranslate nohighlight" id="equation-simple-price-impact-log">
<span class="eqno">(12)<a class="headerlink" href="#equation-simple-price-impact-log" title="Link to this equation">#</a></span>\[\text{Simple Price Impact (log)}=2\times|\ln m_{it+\tau}-\ln m_{it}|\]</div>
</div>
<p>To include trade direction into the calculation of realized spread,
where <span class="math notranslate nohighlight">\(q_{it}=1\)</span> means a buy and <span class="math notranslate nohighlight">\(q_{it}=-1\)</span> means a sell,
we have</p>
<div class="math-wrapper docutils container" id="equation-simple-price-impact-with-direction">
<div class="math notranslate nohighlight" id="equation-simple-price-impact-with-direction">
<span class="eqno">(13)<a class="headerlink" href="#equation-simple-price-impact-with-direction" title="Link to this equation">#</a></span>\[\text{Simple Price Impact}=\frac{2 q_{it} (m_{it+\tau}-m_{it})}{m_{it}} \times 100\]</div>
</div>
<div class="math-wrapper docutils container" id="equation-simple-price-impact-log-with-direction">
<div class="math notranslate nohighlight" id="equation-simple-price-impact-log-with-direction">
<span class="eqno">(14)<a class="headerlink" href="#equation-simple-price-impact-log-with-direction" title="Link to this equation">#</a></span>\[\text{Simple Price Impact (log)}=2 q_{it} (\ln m_{it+\tau}-\ln m_{it})\]</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Basically, effective spread is the sum of realized spread and price
impact.</p>
</div>
</section>
<section id="module-frds.measures.spread">
<span id="api"></span><h2>API<a class="headerlink" href="#module-frds.measures.spread" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="frds.measures.spread.quoted_spread">
<span class="sig-prename descclassname"><span class="pre">frds.measures.spread.</span></span><span class="sig-name descname"><span class="pre">quoted_spread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pct_spread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../../_modules/frds/measures/spread/#quoted_spread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#frds.measures.spread.quoted_spread" title="Link to this definition">#</a></dt>
<dd><p>Quoted bid-ask spread (simple weighted)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bid</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> bids</p></li>
<li><p><strong>ask</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> asks</p></li>
<li><p><strong>pct_spread</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ whether to return percentage spread.
Defaults to True. If False, return log spread.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>quoted spread</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="frds.measures.spread.effective_spread">
<span class="sig-prename descclassname"><span class="pre">frds.measures.spread.</span></span><span class="sig-name descname"><span class="pre">effective_spread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">price</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trade_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pct_spread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../../_modules/frds/measures/spread/#effective_spread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#frds.measures.spread.effective_spread" title="Link to this definition">#</a></dt>
<dd><p>Effective spread (dollar volume weighted)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>price</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> trade prices</p></li>
<li><p><strong>midpoint</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> bid-ask midpoints</p></li>
<li><p><strong>volume</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> trade sizes</p></li>
<li><p><strong>trade_direction</strong> (<em>np.ndarray</em><em>, </em><em>optional</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> trade directions. Defaults to None.
If None, use equation <a class="reference internal" href="#equation-effective-spread">(3)</a> or <a class="reference internal" href="#equation-effective-spread-log">(4)</a>.
If set, use equation <a class="reference internal" href="#equation-effective-spread-with-direction">(5)</a> or <a class="reference internal" href="#equation-effective-spread-log-with-direction">(6)</a>.</p></li>
<li><p><strong>pct_spread</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ whether to return percentage spread.
Defaults to True. If False, return log spread.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>effective spread</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="frds.measures.spread.realized_spread">
<span class="sig-prename descclassname"><span class="pre">frds.measures.spread.</span></span><span class="sig-name descname"><span class="pre">realized_spread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">price</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midpoint_later</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trade_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pct_spread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../../_modules/frds/measures/spread/#realized_spread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#frds.measures.spread.realized_spread" title="Link to this definition">#</a></dt>
<dd><p>Realized spread (dollar volume weighted)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>price</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> trade prices</p></li>
<li><p><strong>midpoint_later</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> bid-ask midpoints some time (e.g., 5min) after corresponding trade</p></li>
<li><p><strong>midpoint</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> bid-ask midpoints at trade</p></li>
<li><p><strong>volume</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> trade sizes</p></li>
<li><p><strong>trade_direction</strong> (<em>np.ndarray</em><em>, </em><em>optional</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> trade directions. Defaults to None.
If None, use equation <a class="reference internal" href="#equation-realized-spread">(7)</a> or <a class="reference internal" href="#equation-realized-spread-log">(8)</a>.
If set, use equation <a class="reference internal" href="#equation-realized-spread-with-direction">(9)</a> or <a class="reference internal" href="#equation-realized-spread-log-with-direction">(10)</a>.</p></li>
<li><p><strong>pct_spread</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ whether to return percentage spread.
Defaults to True. If False, return log spread.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>realized spread</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-frds.measures.price_impact">
<dt class="sig sig-object py" id="frds.measures.price_impact.simple_price_impact">
<span class="sig-prename descclassname"><span class="pre">frds.measures.price_impact.</span></span><span class="sig-name descname"><span class="pre">simple_price_impact</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">price</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midpoint_later</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trade_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pct_spread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../../_modules/frds/measures/price_impact/#simple_price_impact"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#frds.measures.price_impact.simple_price_impact" title="Link to this definition">#</a></dt>
<dd><p>Simple Price Impact (dollar volume weighted)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>price</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> trade prices</p></li>
<li><p><strong>midpoint_later</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> bid-ask midpoints some time (e.g., 5min) after corresponding trade</p></li>
<li><p><strong>midpoint</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> bid-ask midpoints at trade</p></li>
<li><p><strong>volume</strong> (<em>np.ndarray</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> trade sizes</p></li>
<li><p><strong>trade_direction</strong> (<em>np.ndarray</em><em>, </em><em>optional</em>) â€“ <code class="docutils literal notranslate"><span class="pre">(N,)</span></code> array of <code class="docutils literal notranslate"><span class="pre">N</span></code> trade directions. Defaults to None.
If None, use equation <a class="reference internal" href="#equation-simple-price-impact">(11)</a> or <a class="reference internal" href="#equation-simple-price-impact-log">(12)</a>.
If set, use equation <a class="reference internal" href="#equation-simple-price-impact-with-direction">(13)</a> or <a class="reference internal" href="#equation-simple-price-impact-log-with-direction">(14)</a>.</p></li>
<li><p><strong>pct_spread</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ whether to return percentage spread.
Defaults to True. If False, return log spread.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>simple price impact</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">#</a></h2>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../srisk/">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">SRISK</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../probability_of_informed_trading/">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Probability of Informed Trading (PIN)</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023 - 2024, Mingze Gao
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/mgao6767/frds" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Spread and Price Impact</a><ul>
<li><a class="reference internal" href="#quoted-spread">Quoted Spread</a></li>
<li><a class="reference internal" href="#effective-spread">Effective Spread</a></li>
<li><a class="reference internal" href="#realized-spread">Realized Spread</a></li>
<li><a class="reference internal" href="#simple-price-impact">Simple Price Impact</a></li>
<li><a class="reference internal" href="#module-frds.measures.spread">API</a><ul>
<li><a class="reference internal" href="#frds.measures.spread.quoted_spread"><code class="docutils literal notranslate"><span class="pre">quoted_spread()</span></code></a></li>
<li><a class="reference internal" href="#frds.measures.spread.effective_spread"><code class="docutils literal notranslate"><span class="pre">effective_spread()</span></code></a></li>
<li><a class="reference internal" href="#frds.measures.spread.realized_spread"><code class="docutils literal notranslate"><span class="pre">realized_spread()</span></code></a></li>
<li><a class="reference internal" href="#frds.measures.price_impact.simple_price_impact"><code class="docutils literal notranslate"><span class="pre">simple_price_impact()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=187304be"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=35a8b989"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>